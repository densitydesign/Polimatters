<!DOCTYPE html>
<html lang="en">

<head>
    <title>Polimatters</title>
    <meta name="author" content="DensityDesign Research Lab">

    <!-- Social Networks meta tags -->
    <meta property="og:title" content="Polimatters: how Politecnico's students describe their theses?">
    <meta property="og:description" content="We collected and visualized the top 500 keywords of the 20.277 master theses discussed between 2010 and 2016. The result is a picture of the most relevant topics at the crossroad between teaching and research.">
    <meta property="og:image" content="http://labs.densitydesign.org/conferenza2016/img/polimatters-cover.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@densitydesign">

    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/hk-grotesk" type="text/css">
    <link rel="icon" href="img/favicon.svg" type="image/svg+xml" sizes="32x32">
    <link rel="icon" href="img/favicon.png" type="image/gif" sizes="32x32">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Didact+Gothic" rel="stylesheet">

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/hk-grotesk" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.1.7/css/ion.rangeSlider.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.1.7/css/ion.rangeSlider.skinFlat.min.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-5816319-6', 'auto');
        ga('send', 'pageview');
    </script>
</head>

<body>

    <h1 class="title" id="title">Polimatters</h1>
    <div class="intro" id="intro">
        <p>At Politecnico di Milano research and teaching are fruitfully intertwined: research feeds the didactical activity and the classrooms often become incubators of research ideas. We collected and visualized the top 500 keywords of the 20.277 master theses discussed between 2010 and 2016. The result is a picture of the most relevant topics at the crossroad between teaching and research. Exploring the visualization you can see how the topics are distributed and shared among the three macro research and teaching areas in Politecnico - Architecture, Design and Engineering - and among the different degrees within the Design School.</p>
    </div>

    <div class="visualisation"></div>

    <div class="toggle_language" id="toggle_language">
      <p><a href="">IT</a></p>
    </div>

    <div class="logo">
      <img src="img/density_logo.png">
    </div>

    <!-- TEST TIME -->
    <!-- <div id='charts'>
      <div id='date-chart' class='chart'>
        <div class='title'>Date</div>
      </div>
    </div> -->

    <button class="fa fa-arrow-left" aria-hidden="true" id="back"></button>

    <div class="searchbar" id="searchbar">
      <input type="text" id="search_query" onkeyup="search()" placeholder="Search">

      <ul id="searchResults"></ul>
    </div>

    <div class="credits" id="credits">
      <h4>Credits</h4>
      Paolo Ciuccarelli - Scientific Director <br>
      Daniele Ciminieri - Design &amp; Development <br>
      Michele Invernizzi - Design &amp; Development
    </div>

    <div class="timeline" id="timeline"></div>

    <div class="frequency_bar"></div>

    <!-- Alluvial Chart -->
    <div class="alluvial_legend" id="alluvial_legend"></div>

    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
    <script>
        // Initialize Firebase
        let config = {
            apiKey: "AIzaSyAFAboe9Mj0nyMAo5Jk0iQH3ZKB8KS3z-s",
            authDomain: "poliparser.firebaseapp.com",
            databaseURL: "https://poliparser.firebaseio.com",
            projectId: "poliparser",
            storageBucket: "poliparser.appspot.com",
            messagingSenderId: "891756668485"
        };
        firebase.initializeApp(config);
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.js"></script>
    <script src="https://cdn.jsdelivr.net/lodash/4.13.1/lodash.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="js/crossfilter.js"></script>
    <!-- <script src="js/barchart.js"></script> -->
    <script src="js/sankey.js"></script>
    <script src="js/d3-tip.js"></script>
    <script src="js/faculties.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.1.7/js/ion.rangeSlider.min.js"></script>

    <script type="text/javascript">
      function search() {
        var input = document.getElementById('search_query');
        var query = input.value.toLowerCase();
        var ul = document.getElementById('searchResults');

        // Remove previous listener on the reference
        firebase.database().ref('keywords').off();

        if (query != '') {
          firebase.database().ref('keywords').orderByKey().startAt(query).endAt(query + "\uf8ff").once('value', snapshot => {
            $("#searchResults").empty();
            snapshot.forEach(keyword => {
              $("#searchResults").append($("<li>").text(keyword.key)).attr('href','/keyword/' + keyword.key);
            });
          });
        } else {
          $("#searchResults").empty();
        }
      }
    </script>

</body>

</html>
